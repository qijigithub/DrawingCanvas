(this.webpackJsonpdrawingcanvas=this.webpackJsonpdrawingcanvas||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var o=t(1),i=t.n(o),c=t(4),r=t.n(c),s=(t(9),t(2)),a=(t(10),t(0)),l=function(e){var n=e.onStart,t=e.onDraw,o=e.onEnd,c=e.onStop,r=e.height,l=e.width,u=e.className,d=i.a.useRef(null),f=i.a.useState({x:0,y:0}),h=Object(s.a)(f,2),w=h[0],v=h[1];i.a.useEffect((function(){var e=d.current;e&&(e.height=r,e.width=l,e.style.width="100%",e.style.height="100%")}),[l,r]);var g=function(e){var t=e.nativeEvent,o=t.offsetX,i=t.offsetY,c=d.current;if(c){var r;if(window.TouchEvent)(null===(r=t.changedTouches)||void 0===r?void 0:r.length)&&(o=t.changedTouches[0].clientX-c.offsetLeft,i=t.changedTouches[0].clientY-c.offsetTop);var s=c.getBoundingClientRect(),a=o/s.width,l=i/s.height;v({x:a,y:l}),n()}},b=function(){o()},k=function(e){var n=e.nativeEvent,o=n.offsetX,i=n.offsetY,c=d.current;if(c){var r;if(window.TouchEvent)(null===(r=n.changedTouches)||void 0===r?void 0:r.length)&&(o=n.changedTouches[0].clientX-c.offsetLeft,i=n.changedTouches[0].clientY-c.offsetTop);var s=c.getContext("2d"),a=c.getBoundingClientRect(),l=o/a.width,u=i/a.height;t(s,w.x,w.y,l,u),v({x:l,y:u})}};return Object(a.jsx)("canvas",{ref:d,onMouseDown:g,onMouseMove:k,onMouseUp:b,onMouseLeave:function(){c()},onTouchStart:g,onTouchEnd:b,onTouchMove:k,style:{border:"3px solid yellow"},className:u})},u=function(){var e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,n=i.a.useState(!1),t=Object(s.a)(n,2),o=t[0],c=t[1],r=i.a.useState(0),u=Object(s.a)(r,2),d=u[0],f=u[1],h=i.a.useState(e?window.screen.height:window.innerHeight),w=Object(s.a)(h,2),v=w[0],g=w[1],b=i.a.useState(e?window.screen.width:window.innerWidth),k=Object(s.a)(b,2),j=k[0],p=k[1],S=i.a.useRef(null),y=function(e){f(e)};return i.a.useEffect((function(){return window.addEventListener("resize",(function(n){p(e?window.screen.width:window.innerWidth),g(e?window.screen.height:window.innerHeight)})),function(){window.removeEventListener("resize",(function(){}))}}),[S.current]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("div",{ref:S,children:Object(a.jsx)(l,{id:"canvas",onDraw:function(e,n,t,i,c){if(o)if(0===d)i*=j,c*=v,e.fillStyle="white",e.fillRect(i,c,100,100);else{switch(n*=j,t*=v,i*=j,c*=v,e.beginPath(),e.moveTo(n,t),e.lineTo(i,c),d){case 1:e.strokeStyle="black";break;case 2:e.strokeStyle="red";break;case 3:e.strokeStyle="blue";break;case 4:e.strokeStyle="green";break;case 5:e.strokeStyle="yellow";break;case 6:e.strokeStyle="purple";break;case 7:e.strokeStyle="grey"}e.stroke()}},onStart:function(){return c(!0)},onStop:function(){return c(!1)},onEnd:function(){o&&c(!1)},height:v,width:j})}),Object(a.jsxs)("div",{id:"colorButtonBox",children:[Object(a.jsx)("div",{id:"colorButton",className:"black",onClick:function(){f(1)}}),Object(a.jsx)("div",{id:"colorButton",className:"red",onClick:function(){return y(2)}}),Object(a.jsx)("div",{id:"colorButton",className:"blue",onClick:function(){return y(3)}}),Object(a.jsx)("div",{id:"colorButton",className:"green",onClick:function(){return y(4)}}),Object(a.jsx)("div",{id:"colorButton",className:"yellow",onClick:function(){return y(5)}}),Object(a.jsx)("div",{id:"colorButton",className:"purple",onClick:function(){return y(6)}}),Object(a.jsx)("div",{id:"colorButton",className:"grey",onClick:function(){return y(7)}}),Object(a.jsx)("div",{id:"eraserButton",className:"white",onClick:function(){return f(0)}})]})]})},d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function f(e,n){console.log("regist"),navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("installed work"),console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var h=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(n){var t=n.getCLS,o=n.getFID,i=n.getFCP,c=n.getLCP,r=n.getTTFB;t(e),o(e),i(e),c(e),r(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(u,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){console.log("serviceWorker register");var n=new URL(".",window.location.href);if(console.log(n.origin,window.location.origin),n.origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat(".","/service-worker.js");d?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):f(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):(console.log("serviceWorker registerValidSW"),f(n,e))}))}}(),h()},9:function(e,n,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.d647b7e1.chunk.js.map